# Activa el motor de reescritura de URLs
RewriteEngine On

# ===================================================================
# == REGLAS DE REESCRITURA PARA SLUGS (¡VERSIÓN CORREGIDA!) ==
# ===================================================================

# Evita que las reglas se apliquen a archivos o directorios existentes
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

# --- NUEVA REGLA PARA COLEGIOS ---
# Carga /colegio.html SIN query string. El JS leerá el path.
RewriteRule ^colegio/([a-zA-Z0-9-]+)$ /colegio.html [L]

# --- NUEVA REGLA PARA EL BLOG ---
# Carga /entrada.html SIN query string. El JS leerá el path.
RewriteRule ^blog/([a-zA-Z0-9-]+)$ /entrada.html [L]


# ===================================================================
# == OTRAS REGLAS (Se mantienen como estaban) ==
# ===================================================================

# INSTRUCCIONES PARA NO CACHEAR LOS ARCHIVOS JSON
<Files "colegios.json">
    Header set Cache-Control "no-cache, no-store, must-revalidate"
    Header set Pragma "no-cache"
    Header set Expires "0"
</Files>
<Files "noticias.json">
    Header set Cache-Control "no-cache, no-store, must-revalidate"
    Header set Pragma "no-cache"
    Header set Expires "0"
</Files>

# FORZAR HTTPS
RewriteCond %{HTTP:X-Forwarded-Proto} !https
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]